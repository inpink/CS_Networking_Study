> 목차

👉[1.4 패킷 교환 네트워크에서의 지연, 손실과 처리율](#14-패킷-교환-네트워크에서의-지연-손실과-처리율)　   
　   　   [1.4.1 패킷 교환에서의 "지연"](#141-패킷-교환에서의-지연)　   　   
　   　   [1.4.2 큐잉 지연과 패킷 손실](#142-큐잉-지연과-패킷-손실)　   
　   　   [1.4.3 종단 간 지연](#143-종단-간-지연)    
　   　   [1.4.4 처리율](#144-처리율)    　   
　   
　    
　    
## 1.4 패킷 교환 네트워크에서의 지연, 손실과 처리율

### 1.4.1 패킷 교환에서의 "지연"

패킷이 출발지에서 출발해서 여러 개의 라우터를 거치면서 다양한 지연을 겪게된다.　   
패킷이 출발지->도착지 걸리는 시간을 뜻한다.　   
　   
전체 노드 지연(total nodal delay) = 1. (노드) 처리 지연(nodal processing delay)+ 2. 큐잉 지연 + 3. 전송 지연 + 4. 전파 지연　   
　   
　   
> 1. 처리 지연

패킷 헤더를 조사하고 다음 라우터를 결정하는 시간이다.　   
고속 라우터에서 일반적으로 수 마이크로초가 소요된다.　   
　   
　   
> 2. 큐잉 지연

1.3.1을 참고하라.　   
현재 큐에 저장되어 있는 패킷의 수에 의해 결정되는 시간이며, 굉장히 가변적이고 예상이 어렵다.　   
일반적으로는 수 마이크로초~수 밀리초 이다.　   
　   
　   
> 3. 전송 지연

1.3.1을 참고하라.　   
하나의 패킷을 다음 라우터로 밀어내는데 걸리는 시간이다.　   
~~~
L/R 초
~~~
　   
　   
> 4. 전파 지연

라우터와 라우터 사이에는 유선으로 연결되어 있다.　   
이 유선(물리 매체, 광섬유, 꼬임쌍선 등)에서 전파되는 시간을 뜻한다.　   
일반적으로 전파 속도는 아래와 같다.　   
~~~
2X10^8 미터/초 ~ 3X10^8 미터/초
~~~
이 속도는 빛의 속도와 매우 유사하다. 　   
1초에 위의 속도로 가므로, 총 라우터 사이의 **유선의 길이(d)/전파 속도(s)** 가 전파 지연이 된다. 　   
일반적으로 수 밀리초이다.　   
　   
　   
### 1.4.2 큐잉 지연과 패킷 손실

일반적으로 전체 노드 지연 중, 큐잉 지연이 가장 많은 시간을 차지한다.　   
　   
> 트래픽 강도(traffic intensity)　   

트래픽 강도는 아래와 같다.　   
　   
~~~
a : 1초에 도착하는 패킷 수의 평균값
L : 각 패킷의 크기
R : 큐에서 1초에 다음 목적지로 밀려나는 비트 수

La/R<=1 
~~~
　   
트래픽 강도가 1이하가 되도록 관리하라. L/R초마다 하나의 패킷이 큐에 도착하며, 큐잉 지연이 없이 패킷이 전송된다.　   
트래픽이 1 초과가 되면, 큐잉 지연이 생기기 시작하며, 패킷 손실이 발생된다. 심지어 고속도로에서 차가 밀리는 것처럼 작은 초과값도 밀리고 밀리고 밀려서 맨 뒤에서는 아주 큰 체증으로 느껴질 것이다. 　   
　   
　   
### 1.4.3 종단 간 지연 

38p 예시 참고　   
　   
　   
### 1.4.4 처리율

> 순간적인 처리율

호스트 A -> 호스트 B 로 데이터를 보낼 때, 중간에 여러 스위치/라우터를 거치게 된다.　   
최종적으로 호스트B가 **파일을 수신하는 비율(비트/초)**를 처리율이라고 한다.　   
　   
~~~
파일 : F비트　   
걸린 시간 : T초　   
　   
평균 처리율 : F/T (비트/초)　   
~~~
　   
> 병목 링크(bottleneck link)의 처리율

40p 그림 1.19를 보자.　   
호스트 A -> 호스트 B에 R1, R2, R3...의 전송 속도를가진 여러 개의 라우터가 있다고 해보자　   
호스트 B가 받게 되는 비트율(처리율)은 min(R1,R2,R3...)이 된다.　   
**파이프**처럼, 한 곳에서 빨라도 느린 곳이 있다면 결국 그 속도에 맞춰 도착하기 때문이다.　   
　   
41p 그림 1.20의 (b)를 보자.　   
앞선 그림은 '네트워크들'의 '링크들'이 '병목링크'인 경우고,　   
이번 경우는 '코어'에서 '공유 링크'가 '병목'되었다. 　   
이 링크 전체의 전송률이 R이고, 공유 링크가 N개일 때, 각 링크는 R/N개의 처리율을 가지게 된다.　   
　   
　   
