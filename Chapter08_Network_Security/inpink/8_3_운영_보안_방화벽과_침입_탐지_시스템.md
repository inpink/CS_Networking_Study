> 방화벽

전체 인터넷으로부터 특정 기관의 내부 네트워크를 분리시켰을 때, 　   
그 내부 네트워크와 외부 네트워크 사이에 위치하여　   
오고가는 패킷들에게 아래 작업을 해준다　   
　   
1. 외부와 내부를 오가는 모든 트래픽은 방화벽을 거친다　   
   큰 기관은 여러 레벨의 방화벽을 두거나, 분산 방화벽을 위치시킬 수도 있다. 보통은 하나의 방화벽을 가장자리 AP에 두는 것이 보안 정책 관리에 용이하다.　   
　   
2. **로컬 보안 정책** 에 따라 승인된 트래픽만 방화벽을 드나들 수 있다.　   
   송신, 수신 모두에 해당된다. 로컬 보안 정책은, **네트워크 관리자** 가 설정해줘야 한다.　   
　   
3. 방화벽 자체가 침입 시도에 안전해야 한다.　   
   방화벽이 안전하지 않다면, 잘못된 보안을 제공해 오히려 없는 경우보다 더 나쁜 결과를 초래할 수 있다.
      
　   
방화벽은 주로 **가장자리 라우터** 에 구현된다. **SDN**을 이용하여 원격으로 제어한다.　   
네트워크 관리자가 설정해준 정책대로 **패킷 필터링** 이 일어난다.　   
패킷 필터링으로 자주 사용하는 조건들은 아래와 같다.  　   
- IP 출발지/목적지 주소　   
- IP 데이터그램 타입(TCP, UDP, ICMP, OSPF 등)　   
- TCP/UDP 출발지/목적지 포트 번호　   
- TCP 플래그 비트(SYN, ACK 등)　   
- ICMP 메세지 type

　   
ex) 외부의 웹 연결을 불가하는 내부 네트워크의 경우, 방화벽에서 다음과 같은 패킷 필터링 정잭을 설정해줄 수 있다.　   
나가는 패킷 중 포트 80번을 가진 패킷 버림　   
　   
　   
　   
> 침입 감지 시스템(IDS, intrusion detection system)

방화벽에서는 **패킷 필터**를 통해 IP, TCP, UDP, ICMP 헤더 필드를 봤었다.　   
　   
방화벽은 실제 애플리케이션 데이터의 내용까지 **자세한 패킷 관찰**을 하지 못한다.　   
IDS는 방화벽과 다르게 **차단** 기능은 없지만, 더욱 넓고 면밀한 범위까지 패킷을 살펴본다. 　   
IDS 모듈은 네트워크 트래픽을 분석하여 패턴을 파악할 수 있다. 패턴에 크게 벗어나는 이상을 감지할 수 있다. 　   
그리고, 침입이나 공격 등 이상이 감지되면 네트워크 관리자에게 알림을 보내거나, 시스템에 기록해둘 수 있다.　   
　   
IDS는 **네트워크 구성 정보 수집, 포트 정보 수집, TCP 정보 수집, Dos 공격 탐지, 애플리케이션 취약점 공격 탐지 등** 넓은 범위의 공격을 탐지한다.　   

    
　   
> 침입 방지 시스템(IPS, intrusion prevention system)

**IDS에 방화벽의 차단 기능까지 더해준** 시스템이다.　   
일반적으로 IPS는 방화벽 내부에 설치하여, 방화벽과 연동하여 공격에 대응한다. 　   
 　   
 　   
> 방화벽, IDS, IPS

방화벽, IDS, IPS의 차이점을 이해할 필요가 있다. 　   
표 하나로 잘 설명된 사진이 있어 가져왔다. 　   
![image](https://github.com/inpink/CS_Networking_Study/assets/108166692/6de1c8c3-4c2d-4bcc-ac76-187f8fc05a2d) 　   
출처 : https://catchingitsecure.tistory.com/4 　   
 　   

 　   
> 프록시(Proxy)

1. 내가 방문하는 웹사이트에 내 IP 주소를 남기고 싶지 않을 때 　   
2. 내가 사용하는 ISP가, 내가 이 웹사이트에 접속했다는 사실을 몰랐으면 할 때 　   
3. 내가 이 웹사이트와 교환하는 데이터를 ISP가 알지 못하면 할 때 　   
 　   
3번의 경우, TCP를 강화한 SSH, TLS이 충족시켜줄 수 있다. 　   
하지만, SSH과 TLS도 1,2번은 충족시키지 못한다. 　   
 　   
1,2번은 Proxy 서비스를 이용하여 해결할 수 있다. 　   
 　   
1. 나는 신뢰할 수 있는 Proxy 서버와 SSL/TLS 연결한다. 　   
2. 나는 Proxy 서버에 데이터그램을 전송한다.  　   
3. Proxy는 이 데이터를 암호화하여 내가 방문하길 원하는 웹사이트에 대신 전달한다. 　   
4. 웹사이트는 Proxy 서버로 응답한다. 　   
5. Proxy는 나에게 웹사이트가 보낸 데이터를 암호화하여 전송한다. 　   
6. 나는 이 데이터를 복호화하여 사용한다. 　   
 　   
이 과정을 통해, 1,2,3번을 모두 충족시킬 수 있다. 　   
물론 이 방법에서 **프록시 서버는 모든 것을 알 수 있다. 따라서, 이 정보들이 유출되지 않도록 신뢰할 수 있는 프록시를 선택하는 것은 매우 중요하다.** 　   
