> ëª©ì°¨

ğŸ‘‰[5.2 ë¼ìš°íŒ… ì•Œê³ ë¦¬ì¦˜](#52-ë¼ìš°íŒ…-ì•Œê³ ë¦¬ì¦˜)ã€€   
ã€€   [5.2.1 ë§í¬ ìƒíƒœ(LS) ë¼ìš°íŒ… ì•Œê³ ë¦¬ì¦˜](#521-ë§í¬-ìƒíƒœLS-ë¼ìš°íŒ…-ì•Œê³ ë¦¬ì¦˜)ã€€   ã€€   
ã€€   [5.2.2 ê±°ë¦¬ë°±í„°(DV) ë¼ìš°íŒ… ì•Œê³ ë¦¬ì¦˜](#522-ê±°ë¦¬ë°±í„°DV-ë¼ìš°íŒ…-ì•Œê³ ë¦¬ì¦˜)ã€€   
  
ã€€   
ã€€   

## 5.2 ë¼ìš°íŒ… ì•Œê³ ë¦¬ì¦˜

> ë¼ìš°íŒ… ì•Œê³ ë¦¬ì¦˜

ë¼ìš°íŒ… ì•Œê³ ë¦¬ì¦˜ì´ë€, **ìµœì†Œ ë¹„ìš©ì„ ì‚¬ìš©í•˜ëŠ” ê²½ë¡œ**ë¥¼ ì„ íƒí•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì„ ëœ»í•œë‹¤.ã€€   
ë‹¨ìˆœíˆ ìµœì†Œ ë¹„ìš©ë§Œì„ ì¶”êµ¬í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, í˜„ì‹¤ì ìœ¼ë¡œëŠ” ì¶”ê°€ì ì¸ **ë„¤íŠ¸ì›Œí¬ ì •ì±…**ì„ ê³ ë ¤í•´ì•¼ í•˜ê¸´ í•˜ë‹¤.ã€€   
ì˜ˆ) Y ê¸°ê´€ì— ì†í•œ ë¼ìš°í„°ëŠ” Zê¸°ê´€ì˜ ë„¤íŠ¸ì›Œí¬ê°€ ë³´ë‚¸ íŒ¨í‚·ì„ ë°›ì§€ ì•ŠëŠ”ë‹¤ ë“±ã€€   
ã€€   
ã€€   
> ê·¸ë˜í”„(graph)

G(N,E)ë¡œ ë‚˜íƒ€ë‚¸ë‹¤.ã€€   
Nì€ Node, EëŠ” Edgeì´ë‹¤.ã€€   
ì¦‰, ê·¸ë˜í”„ëŠ” ë…¸ë“œì™€ ê°„ì„ ì˜ ì§‘í•©ì´ë‹¤. ã€€   
![image](https://github.com/inpink/CS_Networking_Study/assets/108166692/2ee855fc-cdde-4eaa-b605-909c7d2c9572)
=> ê°„ì„ ì€ ì–‘ë°©í–¥ì¼ìˆ˜ë„, ë‹¨ë°©í–¥ì¼ ìˆ˜ë„ ìˆë‹¤.ã€€   
ì±…ì—ì„œëŠ” ì„¤ëª…ì„ í¸í•˜ê²Œ í•˜ê¸° ìœ„í•´ ê¸°ë³¸ì ìœ¼ë¡œ ì–‘ë°©í–¥ ê·¸ë˜í”„ë¼ëŠ” ê°€ì • í•˜ì— ì„¤ëª…í•œë‹¤.  ã€€   
ã€€   
ë„¤íŠ¸ì›Œí¬ì—ì„œã€€   
ë…¸ë“œëŠ” ë¼ìš°í„°, ê°„ì„ ì€ ë¬¼ë¦¬ ë§í¬ë¥¼ ëœ»í•œë‹¤.ã€€   
ê°„ì„ ì—ëŠ” **ë¹„ìš©**ì´ ì í˜€ìˆë‹¤. í•´ë‹¹ ë§í¬ì˜ ë¬¼ë¦¬ì ì¸ ê±°ë¦¬, ë§í¬ ì†ë„, ê´€ë ¨ëœ ê¸ˆì „ì  ë¹„ìš© ë“±ì´ ë°˜ì˜ëœë‹¤. ã€€   
ê°„ì„ ìœ¼ë¡œ ì—°ê²°ëœ ë…¸ë“œë“¤ì€ ì„œë¡œ ì—°ê²°ë˜ì–´ìˆë‹¤ëŠ” ì˜ë¯¸ë¡œ **í”¼ì–´ë§(peering)**ì´ë¼ê³  í•œë‹¤.ã€€   
ã€€   
ã€€   
### 5.2.1 ë§í¬ ìƒíƒœ(LS) ë¼ìš°íŒ… ì•Œê³ ë¦¬ì¦˜

**ë‹¤ìµìŠ¤íŠ¸ë¼(dijkstra) ì•Œê³ ë¦¬ì¦˜** ì„ ì´ìš©í•œë‹¤.ã€€   
'ì¤‘ì•™ ì§‘ì¤‘í˜• ë¼ìš°íŒ… ì•Œê³ ë¦¬ì¦˜'ì´ë¼ê³ ë„ ë¶€ë¥¸ë‹¤.ã€€   
ë„¤íŠ¸ì›Œí¬ ì „ì²´ì— ëŒ€í•œ ì™„ì „í•œ ì •ë³´ë¥¼ ì•Œì•„ì•¼ í•œë‹¤. ë„¤íŠ¸ì›Œí¬ì˜ ì „ì²´ ê·¸ë¦¼ì„ ë³¼ ìˆ˜ ìˆë‹¤.ã€€   
**ê³ ì •ëœ ì¶œë°œì Sì—ì„œ, ë‚˜ë¨¸ì§€ ëª¨ë“  ë…¸ë“œì— ëŒ€í•œ 'ìµœì†Œ ë¹„ìš©' ë“±ì„ êµ¬í•  ìˆ˜ ìˆë‹¤.** ã€€   
ã€€   
ì–´ë–¤ ë¼ìš°í„°ì—ì„œ ë‹¤ë¥¸ ë¼ìš°í„°ë“¤ì˜ ì •ë³´ë¥¼ ì–´ë–»ê²Œ ì•Œê³  ë¹„ìš©ì„ ì„¤ì •í• ê¹Œ?ã€€   
ì´ëŠ”, ê° ë…¸ë“œê°€ ì •ë³´ë¥¼ ë„¤íŠ¸ì›Œí¬ì— ìˆëŠ” ë‹¤ë¥¸ ëª¨ë“  ë…¸ë“œì— **ë¸Œë¡œë“œìºìŠ¤íŠ¸**í•˜ê¸° ë•Œë¬¸ì´ë‹¤.ã€€   
ã€€   
ë§í¬ ë¹„ìš©ì„ ì‚°ì •í•  ë•Œ, 'íŠ¸ë˜í”½ ì–‘'ì„ ê³ ë ¤í•œë‹¤.  ë¼ìš°í„°ì˜ ì£¼ìš” ëª©ì  ì¤‘, í˜¼ì¡í•œ ë§í¬ë¥¼ í”¼í•´ ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ëŠ” ê²ƒì´ ìˆê¸° ë•Œë¬¸ì´ë‹¤.ã€€   
ì´ ë•Œ, 348p ê·¸ë¦¼ 5.5ì²˜ëŸ¼, ë¼ìš°íŒ… ë°©í–¥ì´ ì‹œê³„ë°©í–¥/ë°˜ì‹œê³„ë°©í–¥ìœ¼ë¡œ ìì£¼ ë°”ë€Œë©° 'ì§„ë™(oscillation)'í•˜ëŠ” ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.ã€€   
=> ëª¨ë“  ë¼ìš°í„°ê°€ ë™ì‹œì— LS ì•Œê³ ë¦¬ì¦˜ì„ ì‹¤í–‰í•˜ëŠ” ê²ƒì„ ë§‰ìœ¼ë©´ ëœë‹¤. ã€€   
=> í˜„ì‹¤ì ìœ¼ë¡œëŠ”, ë¼ìš°í„°ë“¤ì´ ì„œë¡œ ë™ê¸°í™”ë˜ë©° ìì—°ìŠ¤ëŸ½ê²Œ ë™ê¸°ë¥¼ ë§ì¶˜ë‹¤.ã€€   
ã€€   
ì•„ë˜ëŠ” ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ì„ JAVAë¡œ êµ¬í˜„í•œ ì½”ë“œì´ë‹¤.ã€€   
ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ì€, ìµœì•…ì˜ ê²½ìš° O(n^2)ì˜ ì‹œê°„ë³µì¡ë„ë¥¼ ê°–ëŠ”ë‹¤.ã€€   
ì•„ë˜ ì½”ë“œëŠ” heap ìë£Œêµ¬ì¡°ë¥¼ ì´ìš©í•˜ì—¬ O(nlog2(n))ì˜ ì‹œê°„ë³µì¡ë„ ë‚´ì— í•´ê²°í•  ìˆ˜ ìˆë‹¤.ã€€   
~~~
    public static int[] dijk(ArrayList<Integer[]>[] graph, int p, int start){
        int left, right, value;
        int INF = Integer.MAX_VALUE;

        int[] dp = new int[p+1]; //í•´ë‹¹ ë…¸ë“œê¹Œì§€ ìµœì†Œë¹„ìš©ì´ ë‹´ê¹€
        for (int i = 1; i <= p; i++) dp[i] = INF; //intí˜•ì˜ ìµœëŒ“ê°’ìœ¼ë¡œ ì´ˆê¸°í™” í•„ìš”

        PriorityQueue<Integer[]> heap = new PriorityQueue<>((o1, o2) -> {
            return o1[1] - o2[1]; //ì‘ì€ê²Œ ì•ìœ¼ë¡œ ê°€ë„ë¡ ë¹¼ì¤Œ
        });

        //ë‹¤ìµìŠ¤íŠ¸ë¼
        left=start; //ì‹œì‘ì 
        heap.add(new Integer[]{left,0}); // ì‹œì‘ì  1 ë„£ê³  ì‹œì‘. ë¹„ìš©ì€ 0ìœ¼ë¡œ ì‹œì‘

        while (true){
            if (heap.size()==0) break;

            Integer[] currArr= heap.poll(); //ê°€ì¥ ìš°ì„ ìˆœìœ„ ë†’ì€==í˜„ì¬ë¡œì„œ ê°€ì¥ "ëˆ„ì " ë¹„ìš© ì‘ì€ ê°’ êº¼ë‚´ì˜´
            int currNode=currArr[0];
            int accumWeight = currArr[1];

            //sort
            Collections.sort(graph[currNode], (o1, o2) -> {
                return o1[1]-o2[1];
            });

            for (Integer[] candi : graph[currNode] ){
                //System.out.println(Arrays.toString(candi));

                int nextNode= candi[0];
                int nextWeight= accumWeight+candi[1];
                if (nextNode==start) continue; //ì‹œì‘ì  ìê¸° ìì‹ ì„ ë‹¤ì‹œ ë°©ë¬¸í•´ì•¼ í•˜ëŠ” ê²½ìš°ëŠ” ìµœì†Œê°€ ì•„ë‹ˆë¯€ë¡œ êµ³ì´ ê²€ì‚¬í•  í•„ìš”ê°€ ì—†ë‹¤
                if (dp[nextNode]>nextWeight) { //ë” ì‘ì€ ë¹„ìš©ì´ì—¬ì•¼ ì¶”ê°€ì ìœ¼ë¡œ íƒìƒ‰. â˜…ë” ì‘ì€ ë¹„ìš©ì´ë©´ ì—°ê²°ëœ ëª¨ë“  ê²ƒë“¤ì´ ë‹¤ì‹œ ê°±ì‹ ëœë‹¤â˜…
                    dp[nextNode]=nextWeight;
                    heap.add(new Integer[]{nextNode,nextWeight});
                }
            }
        }
        //System.out.println(Arrays.toString(dp));
        return dp;

    }
~~~
ã€€   
ã€€   
### 5.2.2 ê±°ë¦¬ë°±í„°(DV) ë¼ìš°íŒ… ì•Œê³ ë¦¬ì¦˜

**ë²¨ë§Œ í¬ë“œ(Bellman-Ford) ì•Œê³ ë¦¬ì¦˜**ì„ ì´ìš©í•œë‹¤.ã€€   
ë°˜ë³µì , ë¹„ë™ê¸°ì , ë¶„ì‚°ì ã€€   
ã€€   
ê° ë…¸ë“œëŠ” ì§ì ‘ ì—°ê²°ëœ ì´ì›ƒìœ¼ë¡œë¶€í„° ì •ë³´ë¥¼ ë°›ì•„ ê³„ì‚°ì„ ìˆ˜í–‰í•œë‹¤. ì´ ê³„ì‚°ëœ ê²°ê³¼ë¥¼ ë˜ ìì‹ ì˜ ì´ì›ƒë“¤ì—ê²Œ ë°°í¬í•œë‹¤. (ë¶„ì‚°ì )ã€€   
ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ì²˜ëŸ¼,  ë” ì´ìƒ êµí™˜í•  ì •ë³´ê°€ ì—†ì–´ì§ˆ ë•Œê¹Œì§€ ë°˜ë³µí•œë‹¤ (ë°˜ë³µì )ã€€   
ëª¨ë“  ë…¸ë“œê°€ ì„œë¡œì˜ ëª¨ë“  ì •ë³´ë¥¼ ì•Œê³ ìˆì§€ ì•Šì•„ë„ ëœë‹¤. í†±ë‹ˆë°”í€´ì²˜ëŸ¼ ëª¨ë“  ë…¸ë“œê°€ ì •í™•íˆ ë§ë¬¼ë ¤ ë™ì‘í•˜ì§€ ì•Šì•„ë„, ë¶€ë¶„ì ìœ¼ë¡œ ê³„ì‚°ì´ ëœë‹¤. (ë¹„ë™ê¸°ì )ã€€   
(queueê°€ ì•„ë‹Œ heapì„ ì´ìš©í•œ ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ë„ ë¹„ë™ê¸°ì  ê°€ëŠ¥)ã€€   
ã€€   
**ë²¨ë§Œ í¬ë“œ ì‹**ã€€   
~~~
dx(y) = min v {c(x,v) + dv(y) }
~~~
ë…¸ë“œ xë¶€í„° yê¹Œì§€ ìµœì†Œ ë¹„ìš© ê²½ë¡œì˜ ë¹„ìš©ì´ dx(y)ì´ë‹¤.ã€€ã€€   
ã€€   
minvëŠ” "xì˜ ëª¨ë“  ì´ì›ƒ"ì— ì ìš©ëœë‹¤.ã€€ã€€   
xì—ì„œ vë¡œ ì´ë™í•œ í›„, vì—ì„œ yê¹Œì§€ì˜ ìµœì†Œ ë¹„ìš© ê²½ë¡œë¥¼ ì„ íƒí•œ ê²ƒì´ë‹¤.ã€€ã€€   
ì´ë“¤ ì¤‘(ëª¨ë“  ì´ì›ƒ ë…¸ë“œ vì— ëŒ€í•´ ë°”ë¡œ ìœ—ì¤„ ê³„ì‚°), ê°€ì¥ ì‘ì€ ê°’ì„ ì„ íƒí•˜ê²Œ ëœë‹¤. ã€€ã€€   
=> 352p ì˜ˆì‹œë¥¼ ì°¸ê³ í•˜ì.ã€€   
ã€€   
ì•„ë˜ëŠ” ë²¨ë§Œí¬ë“œ ì•Œê³ ë¦¬ì¦˜ì„ Cë¡œ êµ¬í˜„í•œ ì½”ë“œì´ë‹¤.ã€€   
O(VE)ì˜ ì‹œê°„ë³µì¡ë„ë¥¼ ê°–ëŠ”ë‹¤.ã€€   
~~~
void BellmanFord(Edge edges[], int edgecount, int nodecount, int source)
{
	int i,j ;
	int* distance = malloc(nodecount*sizeof(int));
	for(i = 0; i < nodecount; i++)
	{
		if(i == source) distance[i] = 0;
		else distance[i] = INFINITY;
	}
	for(i = 0; i < nodecount; i++)
	{
		for(j = 0; j < edgecount; j++)
		{
			/*
			 * Note that INFINITY is actually a finite number in this code, so because of overflow
			 * "distance[edges[j].source] + edges[j].weight" can be a very small number,
			 * in fact smaller than "distance[edges[j].dest]".
			 *
			 * One solution is to skip the following if-statement,
			 * if "distance[edges[j].source]" == INFINITY
			 */
			if(distance[edges[j].dest] > distance[edges[j].source] + edges[j].weight)
			{
				distance[edges[j].dest] = distance[edges[j].source] + edges[j].weight;
			}
		}
	}
	for(i = 0; i < edgecount; i++)
	{
		if(distance[edges[i].dest] > distance[edges[i].source] + edges[i].weight)
		{
			printf("Error occurred. Negative edge weight cycles detected");
			break;
		}
	}
	for(i = 0; i < nodecount; i++)
	{
		printf("The shortest distance between nodes %i and %i is %i\n", source, i, distance[i]);
	}
}
~~~
ì¶œì²˜ : (ìœ„í‚¤í”¼ë””ì•„)[https://ko.wikipedia.org/wiki/%EB%B2%A8%EB%A8%BC-%ED%8F%AC%EB%93%9C_%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98]
ã€€   
ã€€   
### ë‘ ì•Œê³ ë¦¬ì¦˜ì˜ ë¹„êµ

ğŸ™‚ ì •ë³´ ê³µìœ ã€€   
DV(ë²¨ë§Œí¬ë“œ) : ì˜¤ì§ ì§ì ‘ ì—°ê²°ëœ ì´ì›ƒê³¼ë§Œ ë©”ì„¸ì§€ë¥¼ êµí™˜ã€€   
LS(ë‹¤ìµìŠ¤íŠ¸ë¼) : ì „ì²´ ì •ë³´ë¥¼ ì•Œê³  ìˆì–´ì•¼ í•¨ã€€   
ã€€   
ğŸ™‚ ì‹œê°„ë³µì¡ë„
ë²¨ë§Œ í¬ë“œê°€ ì‹œê°„ì€ ë” ê±¸ë¦°ë‹¤. í•˜ì§€ë§Œ ë‹¤ìµìŠ¤íŠ¸ë¼ëŠ” ëª»í•˜ëŠ” ê°„ì„ ì˜ ê°€ì¤‘ì¹˜ê°€ ìŒìˆ˜ì¸ ê²½ìš°ì—ë„ êµ¬í•  ìˆ˜ ìˆë‹¤. ã€€   
ã€€   
ğŸ™‚ã€€   
DV(ë²¨ë§Œí¬ë“œ) : ë°˜ë³µë§ˆë‹¤ ì´ì›ƒì—ì„œ ì´ì›ƒìœ¼ë¡œ ê° ë¼ìš°í„°ê°€ ê³„ì‚°í•œ ì •ë³´ê°€ í¼ì ¸ê°.ã€€   
ë§Œì•½ ì–´ë–¤ ê³³ì—ì„œ ë°›ì€ íŒ¨í‚·ì˜ ì •ë³´ê°€ ë³€ì§ˆëœ ê²½ìš°, ì˜ëª»ëœ ê³„ì‚° ì •ë³´ê°€ ê¸‰ê²©íˆ í¼ì§€ê²Œ ë¨.ã€€   
LS(ë‹¤ìµìŠ¤íŠ¸ë¼) : "ì‹œì‘í•  ë•Œë¶€í„°" ì „ì²´ ì •ë³´ë¥¼ ì•Œê³  ìˆì–´ì•¼ í•¨. ë”°ë¼ì„œ ì–´ëŠì •ë„ ê²¬ê³ í•¨ì„ ë³´ì¥í•¨.ã€€   
ã€€   
ğŸ™‚ ê²°ë¡ ã€€   
ë‘˜ ë‹¤ ì¸í„°ë„· ë„¤íŠ¸ì›Œí‚¹ì—ì„œ ë§ì´ ì‚¬ìš©ë˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì´ë©°, ì¥ë‹¨ì ì´ ìˆì–´ ìš°ì›”ì„ ê°€ë¦´ ìˆ˜ ì—†ë‹¤. ì ì ˆí•œ ìƒí™©ì— ì ì ˆí•œ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.ã€€   
