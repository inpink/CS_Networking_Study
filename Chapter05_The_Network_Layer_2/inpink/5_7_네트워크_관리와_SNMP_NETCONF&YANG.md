> 목차

👉[5.7 네트워크 관리와 SNMP, NETCONF/YANG](#57-네트워크-관리와-SNMP-NETCONFYANG)　   
　   [5.7.1 네트워크 관리 프레임워크](#571-네트워크-관리-프레임워크)　   　   
　   [5.7.2 SNMP와 MIB](#572-SNMP와-MIB)　   　   
　   [5.7.3 네트워크 설정 프로토콜(NETCONF)와 YANG](#573-네트워크-설정-프로토콜NETCONF와-YANG)　   　   
  
　   
　   

## 5.7 네트워크 관리와 SNMP, NETCONF/YANG

네트워크는 복잡하다. 수 많은 하드웨어와 소프트웨어가 서로 상호작용한다.　   
한 조직의 네트워크를 형성하고, 유지하는 **네트워크 관리자의 임무**는 확실히 어려운 일이다.　   
　   
네트워크 관리와, 이와 관련된 프로토콜들을 알아보자.　   
　   
　   
### 5.7.1 네트워크 관리 프레임워크

> 네트워크 관리

적절한 비용으로 실시간 네트워킹이 가능하고, 운용 성능 기준을 만족하고, 서비스 품질 기준을 만족하기 위해　   
네트워크와 구성 요소들을 감시, 테스트, 폴링, 설정, 분석, 평가, 제어하는 하드웨어, 소프트웨어, 인간 등을
배치, 통합, 조정 등의 작업을 해주는 것을 뜻한다.　   
　   
네트워크 관리의 범위는 매우 넓다. 　   
이 중, **네트워크 관리자** 입장에서 이들이 사용하는 구조, 프로토콜, 데이터를 배워보자.　   
　   
1) 관리 서버 : 네트워크 관리자와 상호작용하는 애플리케이션이다.　   
네트워크 관리자가 관리하며, 중앙 집중형 네트워크 관리 스테이션에 있다. 네트워크 관리 활동이 일어난다.　   
네트워크 관리 정보의 수집, 처리, 분석, 발송 등의 행동을 한다.　   　   
하나의 네트워크에서 여러 개의 관리 서버가 있을 수 있다.　   　   
　   
2) 피관리 장치 : 네트워크에 존재하는 모든 네트워크 장비(소프트웨어 포함)을 뜻한다.　   
　   　   
3) 네트워크 관리 에이전트 : 피관리 장치에 있는 "소프트웨어 프로세스"를 뜻한다.　   
　   
4) 데이터 : 설정 데이터, 동작 데이터, 장치 통계 등　   
　   
5) 네트워크 관리 프로토콜 : 관리 서버와 피관리 장치 사이에서 동작한다.　   
**관리 서버가 피관리 장치의 상태에 대해 질의하고, 에이전트를 통해 피관리 장치를 제어할 수 있게 한다**　   

    
　   
　   
네트워크를 관리하는데 사용하는 대표적인 3가지 방법이 있다.　   
　   
1) CLI(명령줄 인터페이스, Command Line Interface)　   
   : 장치에 직접 명령 보냄.　   
   : 피관리 장치의 콘솔에 직접 입력하거나,　   
   : Telent이나 SSH 연결을 통해 명령을 보낼 수도 있다.　   
   : CLI의 명령은 제조 회사별, 장치별 달라진다.　   
   : 터미널, Unix Shell 등이 포함됨　   
   　   
2) SNMP/MIB(Simple Network Management Protocol, Management Information Base)　   
   : 네트워크 운영자는 SNMP 프로토콜을 이용하여, 장치의 MIB 데이터를 질의하거나, 설정할 수 있다.　   
   : 아래에서 더 자세히 배워보자.　   
　   　   
3) NETCONF/YANG　   
   : 이 방식은 네트워크에 대해 조금 더 추상적이고, 전체론적인 관점을 취한다.　   
   : 하지만, **설정 관리**를 더욱 구체적이고 세분화하여 접근한다.　   
   : YANG은 설정 및 동작 데이터를 모델링하는데 사용되는 데이터 모델링 언어이다.　   
   : NETCONF 프로토콜은, 원격 장치끼리 YANG 데이터를 주고받거나, 서로 통신하는데 사용한다.　   
   : 아래에서 더 자세히 배워보자.　   

    
　   
### 5.7.2 SNMP와 MIB

> SNMP의 사용도

ⓐSNMPv3(RFC 3410)은 **관리 서버와 에이전트 사이에서 "네트워크 관리 제어 및 정보 메세지"를 전달하기 위해** 사용한다.　   
Agent는 위에서 학습한대로, 관리 장치에 있는 "소프트웨어 프로세스"이다.　   
　   
SNMP는 **요청-응답 모드**를 사용한다. (SNMP 관리 서버 -> Agent 요청, SNMP 에이전트 -> 서버 응답)　   
　   
MIB 객체 값을 질의하여 전달해주고, 수정(설정)하기도 한다. 　   
　   　   
　   
ⓑ네트워크 에이전트가 무언가를 명령받지 않더라도, "트랩 메시지"라는 메시지를 "관리 서버"에 전송한다.　   
에이전트가 명령받지 않고도 MIB 객체 값을 변화시킨 예외 상황(링크 인터페이스의 활성화 등)을 통지하기 위해 사용한다.　   
　   
아래는 SNMPv3 메세지의 유형 중 일부이다.　   
![image](https://github.com/inpink/CS_Networking_Study/assets/108166692/71be67d5-6a5a-4274-a951-a7acd54732c2)　   
　   
　   
> MIB

수집된 피관리 장치의 동작 상태 데이터, 설정 데이터를 MIB 객체에 담아 보관된다.　   
예) IP 데이터그램 헤더의 오류로 라우터에서 버려지는 데이터그램 개수 　   
예) DNS 서버에서 실행되는 소프트웨어 버전 설명 정보　   
　   
장치별, 공급업체별 다양한 MIB가 있다.　   
　   
　   
### 5.7.3 네트워크 설정 프로토콜(NETCONF)와 YANG

NETCONF 프로토콜은 **관리 서버와 피관리 네트워크 장치** 사이에서 다음과 같은 기능을 한다.　   
　   
1) 피관리 장치의 설정 데이터를 검색, 설정(수정)　   
2) 피관리 장치의 동작 데이터 및 통계를 조회　   
3) 피관리 장치에서 생성된 알림을 서버로 전송　   


NETCONF 프로토콜은 **XML 문서 형식의 설정 내용**을 피관리 장치에 보낸다.　   

~~~
<get-config>, <get>, <edit-config>, <lock>, <unlock>
~~~
등의 메세지를 보내 위의 기능을 한다.　   
