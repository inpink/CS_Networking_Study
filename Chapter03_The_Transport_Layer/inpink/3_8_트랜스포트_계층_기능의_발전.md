> 목차

👉[3.8 트랜스포트 계층 기능의 발전](#38-트랜스포트-계층-기능의-발전)　   

　   

## 3.8 트랜스포트 계층 기능의 발전

앞서 배운것보다 더 많은 버전의 TCP가 있다. 　   
다양한 버전의 TCP들의 공통점은, **전체 네트워크 관점에서, 네트워크 혼잡과 관련하여 모두가 "공평"하게 경쟁해야 한다는 것**이다.　   
　   
애플리케이션(5)에서 TCP, UDP 2가지 중 사용하고 싶지 않을 경우,　   
(UDP가 제공하는 것보다 더 많은 서비스가 필요하거나 / TCP에 필요없는 기능이 많거나)　   
**자신(5)의 프로토콜을 확장**하여 이를 해결할 수 있다.　   
　   
　   
> QUIC : 빠른 UDP 인터넷 연결　   

QUIC(Quick UDP Internet Connections)는 구글 크롬 브라우저, 유튜브에서 사용하는 **애플리케이션 계층(5) 프로토콜**이다.　   
**UDP를 사용하며, 자신(애플리케이션,5)에 필요한 기능들(혼잡 제어, 신뢰성, 연결지향)을 구현하였다**　   
따라서, QUIC는 UDP를 이용하지만 신뢰적이며, 안전하며, 연결지향적이다. 　   
UDP는 handshake를 하지 않아 신뢰적이지 않다. QUIC가 5계층에서 handshake를 해주기 때문에, 신뢰성을 가질 수 있는 것이다.　   
　   
256p 그림 3.58을 참고하자.　   
(a)는 전통적인 HTTP 2 버전의 프로토콜 스택을 나타낸 것이다.　   
전송 계층(4)에서 TCP를 사용하고 있으며, 애플리케이션  계층(5)에서 "인증 및 암호화"를 위한 TLS(8장)를 해주고 있다.　   
이 경우, TCP를 위한 **handshake**가 필요하며, TLS를 위한 **handshake**도 필요하다.　   
　   
(b)는 QUIC이다.　   
전송 계층(4)에서는 UDP를 사용하고 있으며, 애플리케이션  계층(5)에서 QUIC를 사용하고 있다.　   
QUIC는 **TCP를 위한 handshake와 TLS를 위한 handshake를 결합했다!**　   
=> 장점 **1) 연결 지향적, 2) 안전함 3) 기존TCP,UDP보다 더 빠름**　   
　   
　   
**4) "스트림"을 이용한 신뢰성**　   
하나의 연결 내에 여러 개의 "스트림"이 있다.　   
각 연결은 "연결 ID"를 가지고, 연결 내의 여러 개의 스트림은 각각 "스트림 ID"를 갖는다. 　   
　   
신뢰적이라는 것은, 순서대로 패킷이 도착한다는 것을 의미하기도 한다. 　   
TCP에서는 신뢰성을 위해, **일부분이 손실되어도, 전체가 다 도착할 때까지 그 데이터들을 쓸 수 없다**　   
　   
QUIC는, **스트림별로** 전달받기 때문에, **손실된 UDP 세그먼트는 해당 스트림에만 영향을 준다**　   
다른 스트림은 정상적으로 데이터를 사용하여 애플리케이션(5)에 전달할 수 있다. 　   
　   
　   
**5) TCP 친화적인 "혼잡제어"**　   
QUIC의 혼잡 제어는 3.7.1절의 TCP 리노 프로토콜을 약간 수정한 **TCP 뉴리노(NewReno)**를 기반으로 한다. 　   
=> 혼잡제어도 제공해준다!　   
　   
257p 그림 3.59를 보자.　   
(a)는 TCP의 신뢰적인 데이터 전송　   
(b)는 UDP의 비신뢰적인 데이터 전송 위에 QUIC의 신뢰적인 데이터 전송을 더한 것이다.　   
QUIC 암호 => 암호화(안전함)　   
QUIC RDT => 신뢰적, 연결 지향적　   
QUIC 혼잡제어 => 혼잡 제어　   
